# ÂÆòÊñπÊâãÂÜå - https://manual.nssurge.com/
# ÁêÜËß£ÂéüÁêÜ - https://manual.nssurge.com/book/understanding-surge/cn/
# Â∏ÆÂä©‰∏≠ÂøÉ - https://nssurge.zendesk.com/
# ÊäÄÊúØÁ§æÂå∫ - https://community.nssurge.com

[General]
# ÈÄöÁî®ËÆæÁΩÆ

# > Â¢ûÂº∫Áâà Wi-Fi Âä©ÁêÜ
# (Âú® Wi-Fi ÁΩëÁªú‰∏ç‰Ω≥Êó∂Â∞ùËØï‰ΩøÁî®Êï∞ÊçÆÁΩëÁªúÂª∫Á´ãËøûÊé•ÔºåËØ∑‰ªÖÂΩì‰ΩøÁî®‰∏çÈôêÈáèÁöÑÊï∞ÊçÆÊµÅÈáèÊó∂ÂºÄÂêØ)
wifi-assist = false

# > Internet ÊµãËØï URL
internet-test-url = http://wifi.vivo.com.cn/generate_204
# > ‰ª£ÁêÜÊµãÈÄü URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > ÊµãËØïË∂ÖÊó∂ÔºàÁßíÔºâ
test-timeout = 5

# > TLS ÂºïÊìé
tls-provider = openssl

# > Ëá™ÂÆö‰πâ GeoIP Êï∞ÊçÆÂ∫ì
geoip-maxmind-url = https://raw.githubusercontent.com/JMVoid/ipip2mmdb/release/Country.mmdb

# > IPv6 ÊîØÊåÅÔºàÈªòËÆ§ÂÖ≥Èó≠Ôºâ
ipv6 = false

# > ÂÖÅËÆ∏ Wi-Fi ËÆøÈóÆ (‰ªÖ iOSÔºåËã•ÂÖÅËÆ∏ËøúÁ®ãËÆøÈóÆÂ∞Ü„Äåfalse„ÄçÊîπ‰∏∫„Äåtrue„Äç)
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# > ÂÖÅËÆ∏ Wi-Fi ËÆøÈóÆ (‰ªÖ macOSÔºåËã•ÂÖÅËÆ∏ËøúÁ®ãËÆøÈóÆÂ∞Ü„Äå127.0.0.1„ÄçÊîπ‰∏∫„Äå0.0.0.0„Äç)
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153

# > ÂÖºÂÆπÊ®°Âºè (‰ªÖ iOS)
# compatibility-mode = 0
# > Ë∑≥Ëøá‰ª£ÁêÜ
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, passenger.t3go.cn
# > ÊéíÈô§ÁÆÄÂçï‰∏ªÊú∫Âêç
exclude-simple-hostnames = true

# > Network framwork
network-framework = false

# > DNS ÊúçÂä°Âô® (Â¶ÇÊó†ÂøÖË¶Å‰∏çÂª∫ËÆÆ‰ΩøÁî® DNS over HTTPS)
dns-server = 119.29.29.29,system
# > ‰ªé /etc/hosts ËØªÂèñ DNS ËÆ∞ÂΩï
read-etc-hosts = true

# È´òÁ∫ßËÆæÁΩÆ

# > Êó•ÂøóÁ∫ßÂà´
loglevel = notify

# > ÂΩìÈÅáÂà∞ REJECT Á≠ñÁï•Êó∂ËøîÂõûÈîôËØØÈ°µ
show-error-page-for-reject = true

# > Always Real IP Hosts
always-real-ip = msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net

# > TCP Force HTTP Hosts
# KOOWO - 123.59.31.1,119.18.193.135, 122.14.246.33, 175.102.178.52
# TencentVideo - 116.253.24.*, 175.6.26.*, 220.169.153.*
force-http-engine-hosts = *.ott.cibntv.net, 123.59.31.1,119.18.193.135, 122.14.246.33, 175.102.178.52, 116.253.24.*, 175.6.26.*, 220.169.153.*

# > VIF Excluded Routes
tun-excluded-routes = 239.255.255.250/32

[Replica]
# 0 ‰∏∫ÂÖ≥Èó≠Ôºå1 ‰∏∫ÂºÄÂêØ
# > ÈöêËóè Apple ËØ∑Ê±Ç
hide-apple-request = 0
# > ÈöêËóèÂ¥©Ê∫ÉËøΩË∏™Âô®ËØ∑Ê±Ç
hide-crash-reporter-request = 1
# > ÈöêËóè UDP ‰ºöËØù
hide-udp = 0
# > ÂÖ≥ÈîÆËØçËøáÊª§Âô®
# noneÔºàÂÖ≥Èó≠ÂÖ≥ÈîÆËØçËøáÊª§Âô®Ôºâ / whitelistÔºàblacklistÔºà‰ªÖËÆ∞ÂΩïÂåÖÂê´ÂÖ≥ÈîÆÂ≠óÁöÑËØ∑Ê±ÇÔºâÔºâ / blacklistÔºà‰ªÖËÆ∞ÂΩï‰∏çÂåÖÂê´ÂÖ≥ÈîÆÂ≠óÁöÑËØ∑Ê±ÇÔºâ / patternÔºàÂåπÈÖçÈÄöÈÖçÁ¨¶ÁöÑËØ∑Ê±ÇÔºâ
# keyword-filter-type = none
# > ÂÖ≥ÈîÆËØç
# keyword-filter = (null)

[Proxy]
üåêDirect = direct
‚õîÔ∏èReject = reject
üá®üá≥NJ Oracle.vmess = snell, 1.2.3.4, 10000, psk=1234567890, obfs=tls
üá∫üá∏NJ Vultr.vmess = snell, 1.2.3.4, 10000, psk=1234567890, obfs=tls
üá∫üá∏NJ Vultr.snell = snell, 1.2.3.4, 10000, psk=1234567890, obfs=tls
üá∫üá∏TEST = snell, 1.2.3.4, 10000, psk=1234567890, obfs=tls

[Proxy Group]
# ÁôΩÂêçÂçïÊ®°Âºè PROXYÔºåÈªëÂêçÂçïÊ®°Âºè DIRECT
üß≠Final = select,üåëProxy,üåêDirect
# ËäÇÁÇπÈÄâÈ°π
üåëProxy = select,üßØFallback,üïπAutoTest
# ÂõΩÈôÖÊµÅÂ™í‰ΩìÊúçÂä°
üéûStreaming = select,üåëProxy,üïπAutoTest,ü¶ÜDuckDuckGo
# ‰∏≠ÂõΩÊµÅÂ™í‰ΩìÊúçÂä°ÔºàÈù¢ÂêëÊµ∑Â§ñÁâàÊú¨Ôºâ
üéûStreamingSE = select,üåêDirect,üá®üá≥NJ Oracle.vmess
# Èò≤Âæ°
üõ°Guard = select,‚õîÔ∏èReject,üåêDirect
# ÂèØÁî®ÊÄßËá™Âä®ÊµãËØï
üßØFallback = fallback,üá®üá≥NJ Oracle.vmess,üá∫üá∏NJ Vultr.vmess,üá∫üá∏NJ Vultr.snell,üá∫üá∏TEST,url = http://www.gstatic.com/generate_204
# Âª∂ËøüËá™Âä®ÊµãËØï
üïπAutoTest = url-test,ü¶ÜDuckDuckGo,üá®üá≥NJ Oracle.vmess,üá∫üá∏NJ Vultr.vmess,üá∫üá∏NJ Vultr.snell,üá∫üá∏TEST,url = http://www.gstatic.com/generate_204
# ÂÜ≤È∏≠Êú∫Âú∫ (‰ª£ÁêÜÊúçÂä°ÂïÜÊèê‰æõÁöÑ‰ª£ÁêÜÂàóË°®ËÆ¢ÈòÖÁ§∫‰æã)
ü¶ÜDuckDuckGo = select, policy-path=https://duckduckgo.security/user/sub.php?token=DivineEngine

[Rule]
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Apple/BlockiOSUpdate.list,‚õîÔ∏èReject

# Client
# > Proxy
PROCESS-NAME,v2ray,üåêDirect
PROCESS-NAME,ss-local,üåêDirect
PROCESS-NAME,UUBooster,üåêDirect
# > Download
PROCESS-NAME,aria2c,üåêDirect
PROCESS-NAME,fdm,üåêDirect
PROCESS-NAME,Folx,üåêDirect
PROCESS-NAME,NetTransport,üåêDirect
PROCESS-NAME,Thunder,üåêDirect
PROCESS-NAME,Transmission,üåêDirect
PROCESS-NAME,uTorrent,üåêDirect
PROCESS-NAME,WebTorrent,üåêDirect
PROCESS-NAME,WebTorrent Helper,üåêDirect
DOMAIN-SUFFIX,game-365.com,üåêDirect
DOMAIN-SUFFIX,3658801.com,üåêDirect
DOMAIN-SUFFIX,365097365.com,üåêDirect
DOMAIN-SUFFIX,365pushodds.com,üåêDirect

# Unbreak ÂêéÁª≠ËßÑÂàô‰øÆÊ≠£
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,üåêDirect

# Advertising ÂπøÂëä
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,üõ°Guard
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list,üõ°Guard
# > ÊØîÂàÜÂ§ßÂ∏à
DOMAIN,mpush-api.aliyun.com,üõ°Guard
DOMAIN,qzonestyle.gtimg.cn,üõ°Guard
DOMAIN-SUFFIX,gdt.qq.com,üõ°Guard
DOMAIN,sdk.e.qq.com,üõ°Guard
DOMAIN,log.umsns.com,üõ°Guard
DOMAIN,alogs.umeng.com,üõ°Guard
DOMAIN,alogs.umengcloud.com,üõ°Guard
DOMAIN,api.weibo.com,üõ°Guard

# Privacy ÈöêÁßÅ
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,üõ°Guard

# Hijacking ËøêËê•ÂïÜÂä´ÊåÅÊàñÊÅ∂ÊÑèÁΩëÁ´ô
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,üõ°Guard

# Streaming ÂõΩÈôÖÊµÅÂ™í‰ΩìÊúçÂä°
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,üéûStreaming

# StreamingSE ‰∏≠ÂõΩÊµÅÂ™í‰ΩìÊúçÂä°ÔºàÈù¢ÂêëÊµ∑Â§ñÁâàÊú¨Ôºâ
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list,üéûStreamingSE

# Apple ÊúçÂä°
# Âú® https://github.com/DivineEngine/Profiles/tree/master/Surge/Ruleset/Extra/Apple Ëé∑ÂèñÊâÄÈúÄÊúçÂä°ÂºïÂÖ• Ruleset Á±ªÂûãËßÑÂàôÂèäÊñ∞Âª∫Á≠ñÁï•ÁªÑ„ÄÇ

# Global ÂÖ®ÁêÉÂä†ÈÄü
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,üåëProxy

# China ‰∏≠ÂõΩÁõ¥Ëøû
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,üåêDirect

# Local Area Network Â±ÄÂüüÁΩë
RULE-SET,LAN,üåêDirect

# GeoIP China
GEOIP,CN,üåêDirect

FINAL,üß≠Final,dns-failed

[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29

# Ëß£ÈîÅ‰∫Ü„ÄåÊ®°Âùó„ÄçÂäüËÉΩÁöÑÁî®Êà∑ÂèØ‰ª•‰ΩøÁî® General.sgmodule ÂêéÂèØÁßªÈô§ [URL Rewrite] Âèä [MITM] ÁöÑ„Äåhostname = www.google.cn,api.abema.io„ÄçÈÉ®ÂàÜ
# Âª∫ËÆÆ‰ΩøÁî® General.sgmoduleÔºåÂÖ∂‰ªñ .sgmodule ÊåâÈúÄÂä†ÂÖ•
# Êú™Ëß£ÈîÅ„ÄåÊ®°Âùó„ÄçÂäüËÉΩÁöÑÁî®Êà∑‰∏çË¶ÅÂà†Èô§‰ª•‰∏ãÂÜÖÂÆπÔºåÂèÇÁÖßËØ¥Êòé(https://github.com/DivineEngine/Profiles/tree/master/Surge)‰ΩøÁî®Âø´Êç∑Êåá‰ª§Êõ¥Êñ∞Áõ∏ÂÖ≥ÂÜÖÂÆπ„ÄÇ

[Header Rewrite]

[URL Rewrite]
# Redirect Google Search Service
^(http|https):\/\/(www.)?(g|google)\.cn https://www.google.com 302

# Redirect Google Maps Service
^(http|https):\/\/(ditu|maps).google\.cn https://maps.google.com 302

# Redirect HTTP to HTTPS
^(http|https):\/\/(www.)?taobao\.com\/ https://taobao.com/ 302
^(http|https):\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^(http|https):\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^(http|https):\/\/you\.163\.com\/ https://you.163.com/ 302
^(http|https):\/\/(www.)?suning\.com\/ https://suning.com/ 302
^(http|https):\/\/(www.)?yhd\.com\/ https://yhd.com/ 302

# Redirect False to True
# > IGN China to IGN Global
^(http|https):\/\/(www.)?ign\.xn--fiqs8s\/ http://cn.ign.com/ccpref/us 302
# > Fake Website Made By C&J Marketing
^(http|https):\/\/(www.)?abbyychina\.com\/ https://www.abbyy.cn/ 302
^(http|https):\/\/(www.)?bartender\.cc\/ https://www.macbartender.com/ 302
^(http|https):\/\/(www.)?(betterzipcn|betterzip)\.(com|net)\/ https://macitbetter.com/ 302
^(http|https):\/\/(www.)?beyondcompare\.cc\/ https://www.scootersoftware.com/ 302
^(http|https):\/\/(www.)?bingdianhuanyuan\.cn\/ https://www.faronics.com/zh-hans/products/deep-freeze 302
^(http|https):\/\/(www.)?chemdraw\.com\.cn\/ https://www.perkinelmer.com.cn/ 302
^(http|https):\/\/(www.)?codesoftchina\.com\/ https://www.teklynx.com/ 302
^(http|https):\/\/(www.)?coreldrawchina\.com\/ https://www.coreldraw.com/cn/ 302
^(http|https):\/\/(www.)?crossoverchina\.com\/ https://www.codeweavers.com/ 302
^(http|https):\/\/(www.)?dongmansoft\.com\/ https://www.udongman.cn/ 302
^(http|https):\/\/(www.)?earmasterchina\.cn\/ https://www.earmaster.com/ 302
^(http|https):\/\/(www.)?easyrecoverychina\.com\/ https://www.ontrack.com/ 302
^(http|https):\/\/(www.)?ediuschina\.com\/ https://www.grassvalley.com/ 302
^(http|https):\/\/(www.)?flstudiochina\.com\/ https://www.image-line.com/ 302
^(http|https):\/\/(www.)?formysql\.com\/ https://www.navicat.com.cn/ 302
^(http|https):\/\/(www.)?guitarpro\.cc\/ https://www.guitar-pro.com/ 302
^(http|https):\/\/(www.)?huishenghuiying\.com\.cn\/ https://www.coreldraw.com/cn/ 302
^(http|https):\/\/hypersnap\.mairuan\.com\/ https://www.hyperionics.com/ 302
^(http|https):\/\/(www.)?iconworkshop\.cn\/ https://www.axialis.com/ 302
^(http|https):\/\/(www.)?idmchina\.net\/ https://www.internetdownloadmanager.com/ 302
^(http|https):\/\/(www.)?imindmap\.cc\/ https://www.ayoa.com/previously-imindmap/ 302
^(http|https):\/\/(www.)?jihehuaban\.com\.cn\/ https://www.chartwellyorke.com/sketchpad/x24795.html 302
^(http|https):\/\/hypersnap\.mairuan\.com\/ https://www.keyshot.com/ 302
^(http|https):\/\/(www.)?kingdeecn\.cn\/ http://www.kingdee.com/ 302
^(http|https):\/\/(www.)?logoshejishi\.com https://www.sothink.com/product/logo-design-software/ 302
^(http|https):\/\/logoshejishi\.mairuan\.com\/ https://www.sothink.com/product/logo-design-software/ 302
^(http|https):\/\/(www.)?luping\.net\.cn\/ https://www.techsmith.com/ 302
^(http|https):\/\/(www.)?mathtype\.cn\/ https://www.dessci.com/ 302
^(http|https):\/\/(www.)?mindmanager\.(cc|cn)\/ https://www.mindjet.com/cn/ 302
^(http|https):\/\/(www.)?mindmapper\.cc\/ https://www.mindmapper.com/ 302
^(http|https):\/\/(www.)?(mycleanmymac|xitongqingli)\.com\/ https://macpaw.com/ 302
^(http|https):\/\/(www.)?nicelabel\.cc\/ https://www.nicelabel.com/zh/ 302
^(http|https):\/\/(www.)?ntfsformac\.cc\/ https://www.tuxera.com/products/tuxera-ntfs-for-mac-cn/ 302
^(http|https):\/\/(www.)?ntfsformac\.cn\/ https://china.paragon-software.com/home-mac/ntfs-for-mac/ 302
^(http|https):\/\/(www.)?overturechina\.com\/ https://sonicscores.com/ 302
^(http|https):\/\/(www.)?passwordrecovery\.cn\/ https://cn.elcomsoft.com/aopr.html 302
^(http|https):\/\/(www.)?pdfexpert\.cc\/ https://pdfexpert.com/zh 302
^(http|https):\/\/(www.)?photozoomchina\.com\/ https://www.benvista.com/ 302
^(http|https):\/\/(www.)?shankejingling\.com\/ https://www.sothink.com/product/flashdecompiler/ 302
^(http|https):\/\/cn\.ultraiso\.net\/ https://cn.ezbsystems.com/ultraiso/ 302
^(http|https):\/\/(www.)?vegaschina\.cn\/ https://www.vegascreativesoftware.com/ 302
^(http|https):\/\/(www.)?xshellcn\.com\/ https://www.netsarang.com/zh/xshell/ 302
^(http|https):\/\/(www.)?yuanchengxiezuo\.com\/ https://www.teamviewer.com/ 302
^(http|https):\/\/(www.)?zbrushcn.com/ https://pixologic.com/ 302

# AbeamTV - api.abema.io
^(http|https):\/\/api\.abema\.io\/v\d\/ip\/check - reject

# Block Ads Start

# Block Ads End

[Script]
# WPS‰ºöÂëò
http-response ^https://account.wps.cn/api/users/ requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/eHpo1/Surge/master/wps.js,script-update-interval=0
# Termius Ëß£ÈîÅÊú¨Âú∞ pro
http-response https:\/\/api\.termius\.com\/api\/v3\/bulk\/account\/ requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Termius.js

[SSID Setting]

[MITM]
skip-server-cert-verify = true
hostname = account.wps.cn,api.termius.com,www.google.cn,api.abema.io
